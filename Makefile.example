.DEFAULT_GOAL:= help

help:
	@echo "build -builds the project"
	@echo "run -runs the project withou building it"
	@echo "clean -removes the binary file"
	@echo "host -starts the server on virtual host"
	@echo "help - displays this help message"
	@echo "migrate_create -creates a new migration"
	@echo "migrate_up -runs the migration up"
	@echo "migrate_down -runs the migration down"

build:
	@echo "Building the project"
	go build -o ./mvc cmd/main.go
	@echo "Build complete"

run:
	@echo "Running the project"
	go run cmd/main.go

clean:
	@echo "Removing the binary file"
	rm -f ./mvc

host:
	@echo "Starting the server on virtual host"
	@echo "Server started on mvc.libmansys.local"
	go run cmd/main.go

migrate_create:
	@echo "Creating a new migration"
	@read -p "Enter migration name: " name; \
	migrate create -ext sql -dir database/migration -seq $$name
# The migration_up and migration_down will appear here after running startup.sh
